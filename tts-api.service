[Unit]
Description=ODIADEV TTS API
After=network.target

[Service]
User=ubuntu
WorkingDirectory=/opt/tts-api
Environment="PYTHONUNBUFFERED=1"
Environment="TTS_DB_PATH=/opt/tts-api/tts_api.db"
Environment="TTS_ADMIN_TOKEN=admin_change_me_12345"
Environment="ALLOWED_ORIGINS=*"
Environment="MAX_TEXT_LEN=5000"
Environment="DEFAULT_FORMAT=mp3"
Environment="DEFAULT_LANG=en-NG"
Environment="DEFAULT_TONE=neutral"
Environment="DEFAULT_SPEED=1.0"
Environment="RATE_LIMIT_REQUESTS=60"
Environment="RATE_LIMIT_WINDOW=60"
Environment="RATE_LIMIT_CHARS_PER_DAY=300000"
Environment="OPENAI_API_KEY=your_openai_key_here"
Environment="OPENAI_MODEL=gpt-4o-mini-tts"
Environment="OPENAI_BASE_URL=https://api.openai.com/v1"
ExecStart=/usr/bin/gunicorn --bind 0.0.0.0:8000 --workers 4 --timeout 120 --access-logfile /opt/tts-api/access.log --error-logfile /opt/tts-api/error.log tts_api_server:app
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
